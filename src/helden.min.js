window.observable=function(){function v(c){function f(a,b){function d(){a.apply(this,b)}d.prototype=a.prototype;return new d}this.bindIds=function(){return new p(c)};this.forEach=function(a){return new q(c,a)};this.bind=function(){return 2==arguments.length?new r(c,arguments[0],arguments[1]):new l(c)};for(var e in m)this[e]=function(a){return function(){var b=f(m[a],arguments);b.selector=c;return b}}(e)}function s(c,f){this.onAdd=c;this.onRemove=f;var e=this.length=0,a=[];this.get=function(b){return a[b]}; this.push=function(b){var d=e++;b=this.onAdd.call(a,d,b);a.push.call(a,b);this.length=a.length};this.remove=function(b){b=a.indexOf(b);return this.removeAt(b)};this.removeAt=function(b){if(0<=b){var d=a[b];a.splice(b,1);this.length=a.length;this.onRemove.call(a,b,d)}};this.reset=function(b){for(var d=0;d<this.length;d++)this.remove(a[d]);for(d=0;d<b.length;d++)this.push(b[d])};this.sort=function(b){a.sort(b);this.onSort.call(a)};this.sortByKey=function(a){this.sort(w(a))}}function w(c){return function(f, e){var a=c(f),b=c(e);return a>b?-1:a<b?1:0}}function p(c){function f(a){a.find("*[id]").each(function(){var a=this.value||e[this.id]||"",a=(new l).configure($(this),e,a);e[this.id]=a})}this.selector=c;var e={};this.configure=function(a){f(a);return function(a){a&&(e=a);return e}}}function q(c,f){this.selector=c;var e=c.replace(/[^a-zA-Z0-9]/g,""),a=new s;this.configure=function(b,d,c,h){var k=b.parent(),x=b.clone();b.remove();a.onAdd=function(a,b){var c=x.clone();b.ID_ForEachBinder=e+a;c.attr("id", e+a);t(f,c,b,d);k.append(c);return b};a.onRemove=function(a,b){a=b.ID_ForEachBinder;k.find("#"+a).remove()};a.onSort=function(){for(var a=null,b=null,c=0;c<this.length;c++)a=k.find("#"+this[c].ID_ForEachBinder),null==b?k.prepend(a):b.after(a),b=a};return function(b){b&&a.reset(b);return a}}}function l(c){function f(a){return function(){return a.val.apply(a,arguments)}}function e(a){return function(){return a.text.apply(a,arguments)}}this.selector=c;this.configure=function(a,b,c){a=0<=y.indexOf(a.prop("nodeName").toUpperCase())? f(a):e(a);"function"!=typeof c&&a(c);return a}}function r(c,f,e){this.selector=c;this.configure=function(a,b,c,g){function h(){for(var c=[a,g],d=0;d<arguments.length;d++)c.push(arguments[d]);return e.apply(b,c)}a.on(f,h);return h}}function u(c,f){var e=f?$(f):$("body");t(c,e)}function t(c,f,e,a){e=e||c;for(var b in c){var d=c[b],g=e[b],g=g==d?null:g;if(d&&"function"==typeof d.configure){var h=d.selector?f.find(d.selector):f,d=d.configure(h,e,g,a);d.$=h;e[b]=d}}}var y=["BUTTON","INPUT","TEXTAREA", "SELECT"],m={},n=function(){if(1==arguments.length)return"string"==typeof arguments[0]?new v(arguments[0]):u(arguments[0]);if(2==arguments.length)return u.apply(this,arguments);throw"Invalid syntax";};n.extensions=m;n.util={DomBinder:l,DomEventBinder:r,ForEachBinder:q,FormIDBinder:p,ObservableArray:s};return n}();