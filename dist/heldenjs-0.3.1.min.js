window.helden=function(){function m(a){return"function"==typeof a}function v(a){return void 0!=a&&null!=a}function q(a,e,d,c){d=d||a;for(var g in a){var f=a[g],b=d[g],b=b==f?null:b;if(f&&m(f.configure)){var h=f.selector?e.find(f.selector):e,h=f.configure(h,d,b,c),f=d,b=g,r=h.bind(d);r.is_wrapped=!0;r.is_dom_event=h.is_dom_event;f[b]=r}else m(f)&&(d[g]=f.bind(d))}return d}function A(a){function e(){}function d(f){arguments.length&&a.setter.apply(this,arguments);return a.getter.apply(this)}function c(a){m(this.param)&&
(a=this.param.apply(this.model));return d.call(this,a)}function g(){return a.notifiable?c.bind(this):d.bind(this)}a.init=a.init||n;a.getter=a.getter||n;a.setter=a.setter||n;e.prototype=a;return function(f){this.configure=function(b,h,d,c){var l=new e;l.param=f;a.optimize||(l.view=b);l.model=h;l.parentModel=c;l.init.call(this);b=g.call(l);b.call(l,d||f);return b}}}function p(a){function e(a){for(var f=[],b=0;b<a.length;b++)var h=p(a[b]);void 0!=h&&""!==h&&f.push(h);return f}function d(a){for(var f=
[],b=0;b<a.length;b++){var h=p(a.get(b));void 0!=h&&""!==h&&f.push(h)}return f}function c(a){var f={},b;for(b in a)if(!H.unserializableAttributes[b]){var h=p(a[b]);void 0!=h&&""!==h&&(f[b]=h)}return f}return a instanceof s.ObservableArray?d(a):a instanceof Array?e(a):"function"==typeof a?(a=a.is_wrapped&&!a.is_dom_event?a():void 0,a):"object"==typeof a?c(a):a}function w(a,e){function d(){a.apply(this,e)}d.prototype=a.prototype;return new d}function x(a,e,d){this.onAdd=a;this.onRemove=e;this.onUpdate=
d;var c=this.length=0,g=[];this.get=function(a){return g[a]};this.pushAll=function(a){for(var b=0;b<a.length;b++)this.push(a[b])};this.push=function(a){var b=c++;if(a=this.onAdd.call(g,b,a)||a)g.push(a),this.length=g.length;return a};this.clear=function(){this.reset([])};this.remove=function(a){a=g.indexOf(a);return this.removeAt(a)};this.removeAt=function(a){if(0<=a){var b=g[a];g.splice(a,1);this.length=g.length;this.onRemove.call(g,a,b)}};this.reset=function(a){for(var b=this.length-1;0<=b;b--)this.remove(g[b]);
this.pushAll(a)};this.sort=function(a){g.sort(a);this.onSort.call(g)};this.sortByKey=function(a){this.sort(B(a))}}function B(a){return function(e,d){var c=a(e),g=a(d);return c>g?-1:c<g?1:0}}function t(a,e){function d(a){a.find("*["+e+"]").each(function(){var a=("checkbox"==this.type?this.checked:this.value)||c[this[e]]||"",a=(new u).configure($(this),c,a);c[this[e]]=a})}var c={};e=e||"id";this.selector=a;this.configure=function(a){d(a);return function(a){if(a){var b=null,h;for(h in c)b=a[h],v(b)||
(b=""),c[h](b)}return c}}}function y(a,e){var d=null,c=new x,g=n,f=!0;this.selector=a;this.onChange=function(a){if(!m(a))throw"Callback should be a function";g=a.bind(c);return this};this.autoRemoveTemplate=function(a){null!=a&&void 0!=a&&(f=a);return this};this.configure=function(a,h,m,k){d=this.selector.replace(/[^a-zA-Z0-9]/g,"");var l=a.parent(),n=a.clone();f&&a.remove();c.onAdd=function(a,b){var c=n.clone();b.ID_ForEachBinder=d+a;c.attr("id",d+a);q(e,c,b,h);l.append(c);g(k);return b};c.onRemove=
function(a,b){a=b.ID_ForEachBinder;l.find("#"+a).remove();g(k)};c.onSort=function(){for(var a=null,b=null,c=0;c<this.length;c++)a=l.find("#"+this[c].ID_ForEachBinder),null==b?l.prepend(a):b.after(a),b=a;g(k)};return function(a){a&&c.reset(a);return c}}}function u(a,e){function d(){if(!e)return arguments;var a=e.apply(this,arguments);a instanceof Array||(a=[a]);return a}function c(a){return function(){var c=d.apply(this,arguments);return a.val.apply(a,c)}}function g(a){return function(c){c=d(c);return void 0==
c?a.prop("checked"):a.prop("checked",c)}}function f(a){return function(){var c=d.apply(this,arguments);return a.text.apply(a,c)}}this.selector=a;this.configure=function(a,d,e){a=(d=a.prop("nodeName"))&&0<=C.indexOf(d.toUpperCase())?"checkbox"==a.attr("type")?g(a):c(a):f(a);a.is_wrapped=!0;m(e)||a(e);return a}}function z(a,e,d){this.selector=a;this.configure=function(a,g,f,b){function h(){for(var e=[a,b],f=0;f<arguments.length;f++)e.push(arguments[f]);return d.apply(g,e)}h.is_dom_event=!0;a.on(e,h);
return h}}function k(a){this.selector=a;for(var e in k.extensions)this[e]=function(d){return function(){var c=A(k.extensions[d]),c=w(c,arguments);c.selector=a;return c}}(e)}var n=function(){},C=["BUTTON","INPUT","TEXTAREA","SELECT"];k.prototype={bind:function(a){return new u(this.selector,a)},bindIds:function(){return new t(this.selector)},bindNames:function(){return new t(this.selector,"name")},on:function(){if(2==arguments.length)return new z(this.selector,arguments[0],arguments[1]);throw"Invalid arguments for event binding('on' method): "+
arguments;},forEach:function(a){return new y(this.selector,a)}};k.extensions={accessor:{getter:function(){return this.value},setter:function(a){this.value=a}},bindAttr:{getter:function(){return this.view.attr(this.param)},setter:function(a){this.view.attr(this.param,a)}},bindProp:{getter:function(){return this.view.prop(this.param)},setter:function(a){this.view.prop(this.param,a)}},bindCss:{getter:function(){return this.view.css(this.param)},setter:function(a){this.view.css(this.param,a)}}};var s=
{Selector:k,DomBinder:u,DomEventBinder:z,ForEachBinder:y,FormBinder:t,ObservableArray:x,dsl:{unserializableAttributes:{toJS:!0,ID_ForEachBinder:!0},observable:function(a,e){var d=e?$(e):$("body");return q(a,d)},observeAView:q,on:k.prototype.on,bind:k.prototype.bind,wasDefined:v,isFunction:m,toJS:p,extension:function(a){return m(a)?function(){var e=w(a,arguments);e.selector=this.selector;return e}:function(){a.selector=this.selector;return a}},select:function(){if(1==arguments.length&&"string"==typeof arguments[0])return new k(arguments[0]);
throw"Invalid syntax";}}};k.apply(s.dsl);return s}();window.H=helden.dsl;if("undefined"!=typeof useGlobals)for(var attr in H)window[attr]||(window[attr]=H[attr]);
!function(){helden.Selector.extensions.visible={notifiable:!0,setter:function(m){(m?this.view.show:this.view.hide).call(this.view);this.isVisible=m},getter:function(){return this.isVisible}};helden.Selector.extensions.focus={getter:function(){this.view.focus()}};helden.Selector.extensions.fadeout={getter:function(){this.view.fadeout()}};helden.Selector.extensions.fadein={getter:function(){this.view.fadein()}}}();