window.helden=function(){function l(a){return"function"==typeof a}function v(a){return void 0!=a&&null!=a}function q(a,f,c,d){c=c||a;for(var g in a){var e=a[g],b=c[g],b=b==e?null:b;if(e&&l(e.configure)){var n=e.selector?f.find(e.selector):f,b=e.configure(n,c,b,d);b.$=n;var n=c,e=g,h=b.bind(c);h.is_wrapped=!0;h.is_dom_event=b.is_dom_event;n[e]=h}else l(e)&&(c[g]=e.bind(c))}return c}function A(a){function f(){}function c(e){arguments.length&&a.setter.apply(this,arguments);return a.getter.apply(this)}
function d(e){l(this.param)&&(e=this.param.apply(this.model));return c.call(this,e)}function g(){return a.notifiable?d.bind(this):c.bind(this)}a.init=a.init||m;a.getter=a.getter||m;a.setter=a.setter||m;f.prototype=a;return function(e){this.configure=function(b,c,d,h){var k=new f;k.param=e;a.optimize||(k.view=b);k.model=c;k.parentModel=h;k.init.call(this);b=g.call(k);b.call(k,d||e);return b}}}function p(a){function f(a){for(var e=[],b=0;b<a.length;b++)var c=p(a[b]);void 0!=c&&""!==c&&e.push(c);return e}
function c(a){for(var e=[],b=0;b<a.length;b++){var c=p(a.get(b));void 0!=c&&""!==c&&e.push(c)}return e}function d(a){var e={},b;for(b in a)if(!H.unserializableAttributes[b]){var c=p(a[b]);void 0!=c&&""!==c&&(e[b]=c)}return e}return a instanceof s.ObservableArray?c(a):a instanceof Array?f(a):"function"==typeof a?(a=a.is_wrapped&&!a.is_dom_event?a():void 0,a):"object"==typeof a?d(a):a}function w(a,f){function c(){a.apply(this,f)}c.prototype=a.prototype;return new c}function x(a,f,c){this.onAdd=a;this.onRemove=
f;this.onUpdate=c;var d=this.length=0,g=[];this.get=function(a){return g[a]};this.pushAll=function(a){for(var b=0;b<a.length;b++)this.push(a[b])};this.push=function(a){var b=d++;if(a=this.onAdd.call(g,b,a)||a)g.push.call(g,a),this.length=g.length;return a};this.clear=function(){this.reset([])};this.remove=function(a){a=g.indexOf(a);return this.removeAt(a)};this.removeAt=function(a){if(0<=a){var b=g[a];g.splice(a,1);this.length=g.length;this.onRemove.call(g,a,b)}};this.reset=function(a){for(var b=
0;b<this.length;b++)this.remove(g[b]);for(b=0;b<a.length;b++)this.push(a[b])};this.sort=function(a){g.sort(a);this.onSort.call(g)};this.sortByKey=function(a){this.sort(B(a))}}function B(a){return function(f,c){var d=a(f),g=a(c);return d>g?-1:d<g?1:0}}function t(a,f){function c(a){a.find("*["+f+"]").each(function(){var a=("checkbox"==this.type?this.checked:this.value)||d[this[f]]||"",a=(new u).configure($(this),d,a);d[this[f]]=a})}var d={};f=f||"id";this.selector=a;this.configure=function(a){c(a);
return function(a){if(a){var b=null,c;for(c in d)b=a[c],v(b)||(b=""),d[c](b)}return d}}}function y(a,f){var c=null,d=new x,g=m,e=!0;this.selector=a;this.onChange=function(a){if(!l(a))throw"Callback should be a function";g=a.bind(d);return this};this.autoRemoveTemplate=function(a){null!=a&&void 0!=a&&(e=a);return this};this.configure=function(a,h,l,r){c=this.selector.replace(/[^a-zA-Z0-9]/g,"");var k=a.parent(),m=a.clone();e&&a.remove();d.onAdd=function(a,b){var d=m.clone();b.ID_ForEachBinder=c+a;
d.attr("id",c+a);q(f,d,b,h);k.append(d);g(r);return b};d.onRemove=function(a,b){a=b.ID_ForEachBinder;k.find("#"+a).remove();g(r)};d.onSort=function(){for(var a=null,b=null,c=0;c<this.length;c++)a=k.find("#"+this[c].ID_ForEachBinder),null==b?k.prepend(a):b.after(a),b=a;g(r)};return function(a){a&&d.reset(a);return d}}}function u(a){function f(a){return function(){return a.val.apply(a,arguments)}}function c(a){return function(c){return void 0==c?a.prop("checked"):a.prop("checked",c)}}function d(a){return function(){return a.text.apply(a,
arguments)}}this.selector=a;this.configure=function(a,e,b){a=(e=a.prop("nodeName"))&&0<=C.indexOf(e.toUpperCase())?"checkbox"==a.attr("type")?c(a):f(a):d(a);a.is_wrapped=!0;l(b)||a(b);return a}}function z(a,f,c){this.selector=a;this.configure=function(a,g,e,b){function h(){for(var e=[a,b],f=0;f<arguments.length;f++)e.push(arguments[f]);return c.apply(g,e)}h.is_dom_event=!0;a.on(f,h);return h}}function h(a){this.selector=a;for(var f in h.extensions)this[f]=function(c){return function(){var d=A(h.extensions[c]),
d=w(d,arguments);d.selector=a;return d}}(f)}var m=function(){},C=["BUTTON","INPUT","TEXTAREA","SELECT"];h.prototype={bind:function(){return new u(this.selector)},bindIds:function(){return new t(this.selector)},bindNames:function(){return new t(this.selector,"name")},on:function(){if(2==arguments.length)return new z(this.selector,arguments[0],arguments[1]);throw"Invalid arguments for event binding('on' method): "+arguments;},forEach:function(a){return new y(this.selector,a)}};h.extensions={accessor:{getter:function(){return this.value},
setter:function(a){this.value=a}},bindAttr:{getter:function(){return this.view.attr(this.param)},setter:function(a){this.view.attr(this.param,a)}},bindProp:{getter:function(){return this.view.prop(this.param)},setter:function(a){this.view.prop(this.param,a)}},bindCss:{getter:function(){return this.view.css(this.param)},setter:function(a){this.view.css(this.param,a)}}};var s={Selector:h,DomBinder:u,DomEventBinder:z,ForEachBinder:y,FormBinder:t,ObservableArray:x,dsl:{unserializableAttributes:{toJS:!0,
ID_ForEachBinder:!0},observable:function(a,f){var c=f?$(f):$("body");return q(a,c)},observeAView:q,on:h.prototype.on,bind:h.prototype.bind,wasDefined:v,isFunction:l,toJS:p,extension:function(a){return l(a)?function(){return w(a,arguments)}:function(){return a}},select:function(){if(1==arguments.length&&"string"==typeof arguments[0])return new h(arguments[0]);throw"Invalid syntax";}}};h.apply(s.dsl);return s}();window.H=helden.dsl;
if("undefined"!=typeof useGlobals)for(var attr in H)window[attr]||(window[attr]=H[attr]);!function(){helden.Selector.extensions.visible={notifiable:!0,setter:function(l){(l?this.view.show:this.view.hide).call(this.view);this.isVisible=l},getter:function(){return this.isVisible}};helden.Selector.extensions.focus={getter:function(){this.view.focus()}};helden.Selector.extensions.fadeout={getter:function(){this.view.fadeout()}};helden.Selector.extensions.fadein={getter:function(){this.view.fadein()}}}();