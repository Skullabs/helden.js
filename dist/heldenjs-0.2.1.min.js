window.helden=function(){function g(a,b,d){this.onAdd=a;this.onRemove=b;this.onUpdate=d;var e=this.length=0,f=[];this.get=function(c){return f[c]};this.push=function(c){var a=e++;c=this.onAdd.call(f,a,c);f.push.call(f,c);this.length=f.length};this.remove=function(c){c=f.indexOf(c);return this.removeAt(c)};this.removeAt=function(c){if(0<=c){var a=f[c];f.splice(c,1);this.length=f.length;this.onRemove.call(f,c,a)}};this.reset=function(c){for(var a=0;a<this.length;a++)this.remove(f[a]);for(a=0;a<c.length;a++)this.push(c[a])};
this.sort=function(a){f.sort(a);this.onSort.call(f)};this.sortByKey=function(a){this.sort(m(a))}}function m(a){return function(b,d){var e=a(b),f=a(d);return e>f?-1:e<f?1:0}}function h(a,b){function d(a){a.find("*["+b+"]").each(function(){var a=("checkbox"==this.type?this.checked:this.value)||e[this[b]]||"",a=(new p).configure($(this),e,a);e[this[b]]=a})}var e={};b=b||"id";this.selector=a;this.configure=function(a){d(a);return function(a){a&&(e=a);return e}}}function u(a,b){var d=null,e=new g,f=w,
c=!0;this.selector=a;this.onChange=function(a){if("function"!=typeof a)throw"Callback should be a function";f=a.bind(e);return this};this.autoRemoveTemplate=function(a){null!=a&&void 0!=a&&(c=a);return this};this.configure=function(a,n,g,k){d=this.selector.replace(/[^a-zA-Z0-9]/g,"");var h=a.parent(),m=a.clone();c&&a.remove();e.onAdd=function(a,c){var e=m.clone();c.ID_ForEachBinder=d+a;e.attr("id",d+a);s(b,e,c,n);h.append(e);f(k);return c};e.onRemove=function(a,c){a=c.ID_ForEachBinder;h.find("#"+
a).remove();f(k)};e.onSort=function(){for(var a=null,c=null,b=0;b<this.length;b++)a=h.find("#"+this[b].ID_ForEachBinder),null==c?h.prepend(a):c.after(a),c=a;f(k)};return function(a){a&&e.reset(a);return e}}}function p(a){function b(a){return function(){return a.val.apply(a,arguments)}}function d(a){return function(c){return void 0==c?a.prop("checked"):a.prop("checked",c)}}function e(a){return function(){return a.text.apply(a,arguments)}}this.selector=a;this.configure=function(a,c,l){a=0<=x.indexOf(a.prop("nodeName").toUpperCase())?
"checkbox"==a.attr("type")?d(a):b(a):e(a);"function"!=typeof l&&a(l);return a}}function v(a,b,d){this.selector=a;this.configure=function(a,f,c,l){function n(){for(var c=[a,l],b=0;b<arguments.length;b++)c.push(arguments[b]);return d.apply(f,c)}a.on(b,n);return n}}function s(a,b,d,e){d=d||a;for(var f in a){var c=a[f],l=d[f],l=l==c?null:l;if(c&&"function"==typeof c.configure){var n=c.selector?b.find(c.selector):b,l=c.configure(n,d,l,e);l.$=n;var n=d,h=f,c=l.bind(c);c.is_wrapped=!0;n[h]=c}}return d}function q(a){return void 0!=
a&&null!=a}function r(a){function b(a){for(var c=[],b=0;b<a.length;b++)var d=r(a[b]);void 0!=d&&c.push(d);return c}function d(a){for(var c=[],b=0;b<a.length;b++){var d=r(a.get(b));void 0!=d&&c.push(d)}return c}function e(a){var c={},b;for(b in a)if(!H.unserializableAttributes[b]){var d=r(a[b]);void 0!=d&&(c[b]=d)}return c}return a instanceof t.ObservableArray?d(a):a instanceof Array?b(a):"function"==typeof a?(a=a.is_wrapped?a():void 0,a):"object"==typeof a?e(a):a}function y(a,b){function d(){a.apply(this,
b)}d.prototype=a.prototype;return new d}function k(a){this.selector=a;for(var b in k.extensions)this[b]=function(b){return function(){var e=y(k.extensions[b],arguments);e.selector=a;return e}}(b)}var w=function(){},x=["BUTTON","INPUT","TEXTAREA","SELECT"];k.prototype={bind:function(){return 2==arguments.length?new v(this.selector,arguments[0],arguments[1]):new p(this.selector)},bindIds:function(){return new h(this.selector)},bindNames:function(){return new h(this.selector,"name")},forEach:function(a){return new u(this.selector,
a)}};k.extensions={accessor:function(a){this.configure=function(a,d,e){var f=e;return function(a){q(a)&&(f=a);return f}}},bindAttr:function(a){this.configure=function(b,d,e){d=function(d){q(d)&&b.attr(a,d);return b.attr(a)};q(e)&&d(e);return d}},bindProp:function(a){this.configure=function(b,d){return function(){value&&b.prop(a,value);return b.prop(a)}}},bindCss:function(a){this.configure=function(b,d){return function(){value&&b.prop(a,value);return b.css(a)}}}};var t={Selector:k,DomBinder:p,DomEventBinder:v,
ForEachBinder:u,FormBinder:h,ObservableArray:g,dsl:{unserializableAttributes:{toJS:!0,ID_ForEachBinder:!0},observable:function(a,b){var d=b?$(b):$("body");return s(a,d)},observeAView:s,bindAttr:k.extensions.bindAttr,bindProp:k.extensions.bindProp,bindCss:k.extensions.bindCss,bind:k.prototype.bind,wasDefined:q,toJS:r,select:function(){if(1==arguments.length&&"string"==typeof arguments[0])return new k(arguments[0]);throw"Invalid syntax";}}};k.apply(t.dsl);return t}();window.H=helden.dsl;
if("undefined"!=typeof useGlobals)for(var attr in H)window[attr]||(window[attr]=H[attr]);
!function(){helden.Selector.extensions.visible=function(g){var m=g||!1;this.configure=function(h,g,p){g=function(g){H.wasDefined(g)&&((1==g?h.show:h.hide).call(h),m=g);return m};p=H.wasDefined(p)?p:m;g(p);return g}};helden.Selector.extensions.focus=function(){this.configure=function(g,m,h){return function(){g.focus()}}};helden.Selector.extensions.fadeout=function(){this.configure=function(g,m,h){return function(){g.fadeout.apply(g,arguments)}}};helden.Selector.extensions.fadein=function(){this.configure=
function(g,m,h){return function(){g.fadein.apply(g,arguments)}}}}();