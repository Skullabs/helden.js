window.helden=function(){function h(a){return"function"==typeof a}function q(a,d,b,g){b=b||a;for(var f in a){var e=a[f],c=b[f],c=c==e?null:c;if(e&&h(e.configure)){var p=e.selector?d.find(e.selector):d,e=e.configure(p,b,c,g);e.$=p;p=b;c=f;e=e.bind(b);e.is_wrapped=!0;p[c]=e}else h(e)&&(b[f]=e.bind(b))}return b}function x(a){function d(f){arguments.length&&a.setter.apply(this,arguments);return a.getter.apply(this)}function b(f){h(this.param)&&(f=this.param.apply(this.model));return d.call(this,f)}function g(){return a.notifiable?
b.bind(this):d.bind(this)}a.init=a.init||l;a.getter=a.getter||l;a.setter=a.setter||l;return function(f){this.configure=function(e,c,b,d){function m(){this.param=f;this.view=e;this.model=c;this.parentModel=d;a.init.call(this,e,c)}m.prototype=a;var h=new m,k=g.call(h);k.call(h,b);return k}}}function n(a){function d(f){for(var e=[],a=0;a<f.length;a++)var b=n(f[a]);void 0!=b&&e.push(b);return e}function b(a){for(var e=[],c=0;c<a.length;c++){var b=n(a.get(c));void 0!=b&&e.push(b)}return e}function g(a){var e=
{},c;for(c in a)if(!H.unserializableAttributes[c]){var b=n(a[c]);void 0!=b&&(e[c]=b)}return e}return a instanceof r.ObservableArray?b(a):a instanceof Array?d(a):"function"==typeof a?(a=a.is_wrapped?a():void 0,a):"object"==typeof a?g(a):a}function y(a,d){function b(){a.apply(this,d)}b.prototype=a.prototype;return new b}function u(a,d,b){this.onAdd=a;this.onRemove=d;this.onUpdate=b;var g=this.length=0,f=[];this.get=function(a){return f[a]};this.push=function(a){var c=g++;if(a=this.onAdd.call(f,c,a)||
a)f.push.call(f,a),this.length=f.length;return a};this.remove=function(a){a=f.indexOf(a);return this.removeAt(a)};this.removeAt=function(a){if(0<=a){var c=f[a];f.splice(a,1);this.length=f.length;this.onRemove.call(f,a,c)}};this.reset=function(a){for(var c=0;c<this.length;c++)this.remove(f[c]);for(c=0;c<a.length;c++)this.push(a[c])};this.sort=function(a){f.sort(a);this.onSort.call(f)};this.sortByKey=function(a){this.sort(z(a))}}function z(a){return function(d,b){var g=a(d),f=a(b);return g>f?-1:g<f?
1:0}}function s(a,d){function b(a){a.find("*["+d+"]").each(function(){var a=("checkbox"==this.type?this.checked:this.value)||g[this[d]]||"",a=(new t).configure($(this),g,a);g[this[d]]=a})}var g={};d=d||"id";this.selector=a;this.configure=function(a){b(a);return function(a){a&&(g=a);return g}}}function v(a,d){var b=null,g=new u,f=l,e=!0;this.selector=a;this.onChange=function(a){if(!h(a))throw"Callback should be a function";f=a.bind(g);return this};this.autoRemoveTemplate=function(a){null!=a&&void 0!=
a&&(e=a);return this};this.configure=function(a,h,k,m){b=this.selector.replace(/[^a-zA-Z0-9]/g,"");var l=a.parent(),n=a.clone();e&&a.remove();g.onAdd=function(a,c){var e=n.clone();c.ID_ForEachBinder=b+a;e.attr("id",b+a);q(d,e,c,h);l.append(e);f(m);return c};g.onRemove=function(a,b){a=b.ID_ForEachBinder;l.find("#"+a).remove();f(m)};g.onSort=function(){for(var a=null,b=null,c=0;c<this.length;c++)a=l.find("#"+this[c].ID_ForEachBinder),null==b?l.prepend(a):b.after(a),b=a;f(m)};return function(a){a&&g.reset(a);
return g}}}function t(a){function d(a){return function(){return a.val.apply(a,arguments)}}function b(a){return function(b){return void 0==b?a.prop("checked"):a.prop("checked",b)}}function g(a){return function(){return a.text.apply(a,arguments)}}this.selector=a;this.configure=function(a,e,c){a=0<=A.indexOf(a.prop("nodeName").toUpperCase())?"checkbox"==a.attr("type")?b(a):d(a):g(a);h(c)||a(c);return a}}function w(a,d,b){this.selector=a;this.configure=function(a,f,e,c){function h(){for(var e=[a,c],d=
0;d<arguments.length;d++)e.push(arguments[d]);return b.apply(f,e)}a.on(d,h);return h}}function k(a){this.selector=a;for(var d in k.extensions)this[d]=function(b){return function(){var d=x(k.extensions[b]),d=y(d,arguments);d.selector=a;return d}}(d)}var l=function(){},A=["BUTTON","INPUT","TEXTAREA","SELECT"];k.prototype={bind:function(){return 2==arguments.length?new w(this.selector,arguments[0],arguments[1]):new t(this.selector)},bindIds:function(){return new s(this.selector)},bindNames:function(){return new s(this.selector,
"name")},forEach:function(a){return new v(this.selector,a)}};k.extensions={accessor:{getter:function(){return this.value},setter:function(a){this.value=a}},bindAttr:{getter:function(){return this.view.attr(this.param)},setter:function(a){this.view.attr(this.param,a)}},bindProp:{getter:function(){return this.view.prop(this.param)},setter:function(a){this.view.prop(this.param,a)}},bindCss:{getter:function(){return this.view.css(this.param)},setter:function(a){this.view.css(this.param,a)}}};var r={Selector:k,
DomBinder:t,DomEventBinder:w,ForEachBinder:v,FormBinder:s,ObservableArray:u,dsl:{unserializableAttributes:{toJS:!0,ID_ForEachBinder:!0},observable:function(a,d){var b=d?$(d):$("body");return q(a,b)},observeAView:q,bind:k.prototype.bind,wasDefined:function(a){return void 0!=a&&null!=a},isFunction:h,toJS:n,select:function(){if(1==arguments.length&&"string"==typeof arguments[0])return new k(arguments[0]);throw"Invalid syntax";}}};k.apply(r.dsl);return r}();window.H=helden.dsl;
if("undefined"!=typeof useGlobals)for(var attr in H)window[attr]||(window[attr]=H[attr]);!function(){helden.Selector.extensions.visible={notifiable:!0,setter:function(h){(h?this.view.show:this.view.hide).call(this.view);this.isVisible=h},getter:function(){return this.isVisible}};helden.Selector.extensions.focus={getter:function(){this.view.focus()}};helden.Selector.extensions.fadeout={getter:function(){this.view.fadeout()}};helden.Selector.extensions.fadein={getter:function(){this.view.fadein()}}}();