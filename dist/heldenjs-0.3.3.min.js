window.helden=function(){function l(a){return"function"==typeof a}function v(a){return void 0!=a&&null!=a}function q(a,e,b,d){b=b||a;for(var g in a){var f=a[g],c=b[g],c=c==f?null:c;if(f&&l(f.configure)){var r=f.selector?e.find(f.selector):e,f=f.configure(r,b,c,d);b[g]=w(f,b)}else l(f)&&(b[g]=f.bind(b))}return b}function B(a){function e(){}function b(f){arguments.length&&a.setter.apply(this,arguments);return a.getter.apply(this)}function d(a){l(this.param)&&(a=this.param.apply(this.model));return b.call(this,
a)}function g(){return a.notifiable?d.bind(this):b.bind(this)}a.init=a.init||m;a.getter=a.getter||m;a.setter=a.setter||m;e.prototype=a;return function(f){this.configure=function(c,b,d,n){var k=new e;k.param=f;a.optimize||(k.view=c);k.model=b;k.parentModel=n;k.init.call(this);c=g.call(k);c.call(k,d||f);return c}}}function w(a,e){var b=a.bind(e);b.is_wrapped=!0;b.is_dom_event=a.is_dom_event;return b}function p(a){function e(a){for(var f=[],c=0;c<a.length;c++)var b=p(a[c]);void 0!=b&&""!==b&&f.push(b);
return f}function b(a){for(var f=[],c=0;c<a.length;c++){var b=p(a.get(c));void 0!=b&&""!==b&&f.push(b)}return f}function d(a){var f={},c;for(c in a)if(!H.unserializableAttributes[c]){var b=p(a[c]);void 0!=b&&""!==b&&(f[c]=b)}return f}return a instanceof s.ObservableArray?b(a):a instanceof Array?e(a):"function"==typeof a?(a=a.is_wrapped&&!a.is_dom_event?a():void 0,a):"object"==typeof a?d(a):a}function x(a,e){function b(){a.apply(this,e)}b.prototype=a.prototype;return new b}function y(a,e,b){this.onAdd=
a;this.onRemove=e;this.onUpdate=b;var d=this.length=0,g=[];this.get=function(a){return g[a]};this.pushAll=function(a){for(var c=0;c<a.length;c++)this.push(a[c])};this.push=function(a){var c=d++;if(a=this.onAdd.call(g,c,a)||a)g.push(a),this.length=g.length;return a};this.clear=function(){this.reset([])};this.remove=function(a){a=g.indexOf(a);return this.removeAt(a)};this.removeAt=function(a){if(0<=a){var c=g[a];g.splice(a,1);this.length=g.length;this.onRemove.call(g,a,c)}};this.reset=function(a){for(var c=
this.length-1;0<=c;c--)this.remove(g[c]);this.pushAll(a)};this.sort=function(a){g.sort(a);this.onSort.call(g)};this.sortByKey=function(a){this.sort(C(a))}}function C(a){return function(e,b){var d=a(e),g=a(b);return d>g?-1:d<g?1:0}}function t(a,e){function b(a){a.find("*["+e+"]").each(function(){var a=("checkbox"==this.type?this.checked:this.value)||d[this[e]]||"",a=(new u).configure($(this),d,a);d[this[e]]=a})}var d={};e=e||"id";this.selector=a;this.configure=function(a){b(a);return function(a){if(a){var c=
null,b;for(b in d)c=a[b],v(c)||(c=""),d[b](c)}return d}}}function z(a,e){var b=null,d=new y,g=m,f=!0;this.selector=a;this.onChange=function(a){if(!l(a))throw"Callback should be a function";g=a.bind(d);return this};this.autoRemoveTemplate=function(a){null!=a&&void 0!=a&&(f=a);return this};this.configure=function(a,r,h,n){b=this.selector.replace(/[^a-zA-Z0-9]/g,"");var k=a.parent(),m=a.clone();f&&a.remove();d.onAdd=function(a,c){var d=m.clone();c.ID_ForEachBinder=b+a;d.attr("id",b+a);q(e,d,c,r);k.append(d);
g(n);return c};d.onRemove=function(a,c){a=c.ID_ForEachBinder;k.find("#"+a).remove();g(n)};d.onSort=function(){for(var a=null,c=null,b=0;b<this.length;b++)a=k.find("#"+this[b].ID_ForEachBinder),null==c?k.prepend(a):c.after(a),c=a;g(n)};h&&!l(h)&&d.reset(h);return function(a){a&&d.reset(a);return d}}}function u(a,e){function b(){if(!e)return arguments;var a=e.apply(this,arguments);a instanceof Array||(a=[a]);return a}function d(a){return function(){var d=b.apply(this,arguments);return a.val.apply(a,
d)}}function g(a){return function(d){arguments.length&&(d=b(d)[0],a.prop("checked",d[0]));return a.prop("checked")}}function f(a){return function(){var d=b.apply(this,arguments);return a.text.apply(a,d)}}this.selector=a;this.configure=function(a,b,e){var h=a.prop("nodeName");a=h&&0<=D.indexOf(h.toUpperCase())?"checkbox"==a.attr("type")?g(a):d(a):f(a);a=w(a,b);l(e)||a(e);return a}}function A(a,e,b){this.selector=a;this.configure=function(a,g,f,c){function h(){for(var e=[a,c],f=0;f<arguments.length;f++)e.push(arguments[f]);
return b.apply(g,e)}h.is_dom_event=!0;a.on(e,h);return h}}function h(a){this.selector=a;for(var e in h.extensions)this[e]=function(b){return function(){var d=B(h.extensions[b]),d=x(d,arguments);d.selector=a;return d}}(e)}var m=function(){},D=["BUTTON","INPUT","TEXTAREA","SELECT"];h.prototype={bind:function(a){return new u(this.selector,a)},bindIds:function(){return new t(this.selector)},bindNames:function(){return new t(this.selector,"name")},on:function(){if(2==arguments.length)return new A(this.selector,
arguments[0],arguments[1]);throw"Invalid arguments for event binding('on' method): "+arguments;},forEach:function(a){return new z(this.selector,a)}};h.extensions={accessor:{getter:function(){return this.value},setter:function(a){this.value=a}},bindAttr:{getter:function(){return this.view.attr(this.param)},setter:function(a){this.view.attr(this.param,a)}},bindProp:{getter:function(){return this.view.prop(this.param)},setter:function(a){this.view.prop(this.param,a)}},bindCss:{getter:function(){return this.view.css(this.param)},
setter:function(a){this.view.css(this.param,a)}}};var s={Selector:h,DomBinder:u,DomEventBinder:A,ForEachBinder:z,FormBinder:t,ObservableArray:y,dsl:{unserializableAttributes:{toJS:!0,ID_ForEachBinder:!0},observable:function(a,e){var b=e?$(e):$("body");return q(a,b)},observeAView:q,on:h.prototype.on,bind:h.prototype.bind,wasDefined:v,isFunction:l,toJS:p,extension:function(a){return l(a)?function(){var e=x(a,arguments);e.selector=this.selector;return e}:function(){a.selector=this.selector;return a}},
select:function(){if(1==arguments.length&&"string"==typeof arguments[0])return new h(arguments[0]);throw"Invalid syntax";}}};h.apply(s.dsl);return s}();window.H=helden.dsl;if("undefined"!=typeof useGlobals)for(var attr in H)window[attr]||(window[attr]=H[attr]);
!function(){helden.Selector.extensions.visible={notifiable:!0,setter:function(l){(l?this.view.show:this.view.hide).call(this.view);this.isVisible=l},getter:function(){return this.isVisible}};helden.Selector.extensions.focus={getter:function(){this.view.focus()}};helden.Selector.extensions.fadeout={getter:function(){this.view.fadeout()}};helden.Selector.extensions.fadein={getter:function(){this.view.fadein()}}}();