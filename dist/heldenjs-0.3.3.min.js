window.helden=function(){function h(a){return"function"==typeof a}function u(a){return void 0!=a&&null!=a}function p(a,c,b,f){b=b||a;for(var g in a){var e=a[g],d=b[g],d=d==e?null:d;if(e&&h(e.configure)){var v=e.selector?c.find(e.selector):c,e=e.configure(v,b,d,f);b[g]=w(e,b)}else h(e)&&(b[g]=e.bind(b))}return b}function B(a){function c(){}function b(e){arguments.length&&a.setter.apply(this,arguments);return a.getter.apply(this)}function f(a){h(this.param)&&(a=this.param.apply(this.model));return b.call(this,
a)}function g(){return a.notifiable?f.bind(this):b.bind(this)}a.init=a.init||q;a.getter=a.getter||q;a.setter=a.setter||q;c.prototype=a;return function(e){this.configure=function(d,b,f,l){var h=new c;h.param=e;a.optimize||(h.view=d);h.model=b;h.parentModel=l;h.init.call(this);d=g.call(h);d.call(h,f||e);return d}}}function w(a,c){var b=a.bind(c);b.is_wrapped=!0;b.is_dom_event=a.is_dom_event;return b}function n(a){function c(a){for(var e=[],d=0;d<a.length;d++)var b=n(a[d]);void 0!=b&&""!==b&&e.push(b);
return e}function b(a){for(var e=[],d=0;d<a.length;d++){var b=n(a.get(d));void 0!=b&&""!==b&&e.push(b)}return e}function f(a){var e={},d;for(d in a)if(!H.unserializableAttributes[d]){var b=n(a[d]);void 0!=b&&""!==b&&(e[d]=b)}return e}return a instanceof r.ObservableArray?b(a):a instanceof Array?c(a):"function"==typeof a?(a=a.is_wrapped&&!a.is_dom_event?n(a()):void 0,a):"object"==typeof a?f(a):a}function x(a,c){function b(){a.apply(this,c)}b.prototype=a.prototype;return new b}function y(a,c,b){this.onAdd=
a;this.onRemove=c;this.onUpdate=b;var f=this.length=0,g=[];this.get=function(a){return g[a]};this.pushAll=function(a){for(var d=0;d<a.length;d++)this.push(a[d])};this.push=function(a){var d=f++;if(a=this.onAdd.call(g,d,a)||a)g.push(a),this.length=g.length;return a};this.clear=function(){this.reset([])};this.remove=function(a){a=g.indexOf(a);return this.removeAt(a)};this.removeAt=function(a){if(0<=a){var d=g[a];g.splice(a,1);this.length=g.length;this.onRemove.call(g,a,d)}};this.reset=function(a){for(var d=
this.length-1;0<=d;d--)this.remove(g[d]);this.pushAll(a)};this.sort=function(a){g.sort(a);this.onSort.call(g)};this.sortByKey=function(a){this.sort(C(a))}}function C(a){return function(c,b){var f=a(c),g=a(b);return f>g?-1:f<g?1:0}}function s(a,c){function b(a){a.find("*["+c+"]").each(function(){var a=("checkbox"==this.type?this.checked:this.value)||f[this[c]]||"",a=(new t).configure($(this),f,a);f[this[c]]=a})}var f={};c=c||"id";this.selector=a;this.configure=function(a){b(a);return function(a){if(a){var d=
null,b;for(b in f)d=a[b],u(d)||(d=""),f[b](d)}return f}}}function z(a,c){var b=null,f=!0;this.selector=a;this.autoRemoveTemplate=function(a){null!=a&&void 0!=a&&(f=a);return this};this.configure=function(a,e,d,v){var m=new y;b=this.selector.replace(/[^a-zA-Z0-9]/g,"");var l=a.parent(),k=a.clone();f&&a.remove();m.onAdd=function(a,d){var f=k.clone();d.ID_ForEachBinder=b+a;f.attr("id",b+a);p(c,f,d,e);l.append(f);return d};m.onRemove=function(a,d){a=d.ID_ForEachBinder;l.find("#"+a).remove()};m.onSort=
function(){for(var a=null,d=null,b=0;b<this.length;b++)a=l.find("#"+this[b].ID_ForEachBinder),null==d?l.prepend(a):d.after(a),d=a};d&&!h(d)&&m.reset(d);return function(a){a&&m.reset(a);return m}}}function t(a,c){function b(){if(!c)return arguments;var a=c.apply(this,arguments);a instanceof Array||(a=[a]);return a}function f(a){return function(){var c=b.apply(this,arguments);return a.val.apply(a,c)}}function g(a){return function(c){arguments.length&&(c=b(c),a.prop("checked",c[0]));return a.prop("checked")}}
function e(a){return function(){var c=b.apply(this,arguments);return a.text.apply(a,c)}}this.selector=a;this.configure=function(a,b,c){var l=a.prop("nodeName");a=l&&0<=D.indexOf(l.toUpperCase())?"checkbox"==a.attr("type")?g(a):f(a):e(a);a=w(a,b);h(c)||a(c);return a}}function A(a,c,b){this.selector=a;this.configure=function(a,g,e,d){function h(){for(var c=[a,d],e=0;e<arguments.length;e++)c.push(arguments[e]);return b.apply(g,c)}h.is_dom_event=!0;a.on(c,h);return h}}function k(a){this.selector=a;for(var c in k.extensions)this[c]=
function(b){return function(){var c=B(k.extensions[b]),c=x(c,arguments);c.selector=a;return c}}(c)}var q=function(){},D=["BUTTON","INPUT","TEXTAREA","SELECT"];k.prototype={bind:function(a){return new t(this.selector,a)},bindIds:function(){return new s(this.selector)},bindNames:function(){return new s(this.selector,"name")},on:function(){if(2==arguments.length)return new A(this.selector,arguments[0],arguments[1]);throw"Invalid arguments for event binding('on' method): "+arguments;},forEach:function(a){return new z(this.selector,
a)}};k.extensions={accessor:{getter:function(){return this.value},setter:function(a){this.value=a}},bindAttr:{getter:function(){return this.view.attr(this.param)},setter:function(a){this.view.attr(this.param,a)}},bindProp:{getter:function(){return this.view.prop(this.param)},setter:function(a){this.view.prop(this.param,a)}},bindCss:{getter:function(){return this.view.css(this.param)},setter:function(a){this.view.css(this.param,a)}}};var r={Selector:k,DomBinder:t,DomEventBinder:A,ForEachBinder:z,FormBinder:s,
ObservableArray:y,dsl:{unserializableAttributes:{toJS:!0,ID_ForEachBinder:!0},observable:function(a,c){var b=c?$(c):$("body");return p(a,b)},observeAView:p,on:k.prototype.on,bind:k.prototype.bind,wasDefined:u,isFunction:h,toJS:n,extension:function(a){return h(a)?function(){var c=x(a,arguments);c.selector=this.selector;return c}:function(){a.selector=this.selector;return a}},select:function(){if(1==arguments.length&&"string"==typeof arguments[0])return new k(arguments[0]);throw"Invalid syntax";}}};
k.apply(r.dsl);return r}();window.H=helden.dsl;if("undefined"!=typeof useGlobals)for(var attr in H)window[attr]||(window[attr]=H[attr]);
!function(){helden.Selector.extensions.visible={notifiable:!0,setter:function(h){(h?this.view.show:this.view.hide).call(this.view);this.isVisible=h},getter:function(){return this.isVisible}};helden.Selector.extensions.focus={getter:function(){this.view.focus()}};helden.Selector.extensions.fadeout={getter:function(){this.view.fadeout()}};helden.Selector.extensions.fadein={getter:function(){this.view.fadein()}}}();